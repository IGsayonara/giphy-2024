import{V as q,B as de,C as ve,_ as pe}from"./VImg-DBi8LjrP.js";import{u as he,V as ge}from"./VCard-DJHWUeEn.js";import{p as me,I as K,m as Se,a5 as ye,f as _e,h as ee,S as ke,a6 as xe,E as w,q as y,n as U,a7 as ze,a8 as J,x as te,u as be,a9 as we,a as f,d as Ce,J as Ge,aa as Ve,o as x,c as C,w as g,K as m,ab as I,ac as Q,D as Re,ad as X,L as Ie,M as Ee,N as Fe}from"./index-Dr9rVSDq.js";import{m as Te,u as Pe,f as Y,a as Ae,b as Oe,V as E,c as M}from"./index-B52RfnLb.js";function We(l){let{selectedElement:n,containerElement:s,isRtl:o,isHorizontal:d}=l;const p=G(d,s),i=le(d,o,s),h=G(d,n),a=oe(d,n),S=h*.4;return i>a?a-S:i+p<a+h?a-p+h+S:i}function Me(l){let{selectedElement:n,containerElement:s,isHorizontal:o}=l;const d=G(o,s),p=oe(o,n),i=G(o,n);return p-d/2+i/2}function Z(l,n){const s=l?"scrollWidth":"scrollHeight";return(n==null?void 0:n[s])||0}function He(l,n){const s=l?"clientWidth":"clientHeight";return(n==null?void 0:n[s])||0}function le(l,n,s){if(!s)return 0;const{scrollLeft:o,offsetWidth:d,scrollWidth:p}=s;return l?n?p-d+o:o:s.scrollTop}function G(l,n){const s=l?"offsetWidth":"offsetHeight";return(n==null?void 0:n[s])||0}function oe(l,n){const s=l?"offsetLeft":"offsetTop";return(n==null?void 0:n[s])||0}const se=Symbol.for("vuetify:v-slide-group"),Be=me({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:se},nextIcon:{type:K,default:"$next"},prevIcon:{type:K,default:"$prev"},showArrows:{type:[Boolean,String],validator:l=>typeof l=="boolean"||["always","desktop","mobile"].includes(l)},...Se(),...ye({mobile:null}),..._e(),...Te({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),Ne=ee()({name:"VSlideGroup",props:Be(),emits:{"update:modelValue":l=>!0},setup(l,n){let{slots:s}=n;const{isRtl:o}=ke(),{displayClasses:d,mobile:p}=xe(l),i=Pe(l,l.symbol),h=w(!1),a=w(0),S=w(0),z=w(0),c=y(()=>l.direction==="horizontal"),{resizeRef:r,contentRect:_}=U(),{resizeRef:v,contentRect:F}=U(),H=ze(),B=y(()=>({container:r.el,duration:200,easing:"easeOutQuart"})),ne=y(()=>i.selected.value.length?i.items.value.findIndex(e=>e.id===i.selected.value[0]):-1),ae=y(()=>i.selected.value.length?i.items.value.findIndex(e=>e.id===i.selected.value[i.selected.value.length-1]):-1);if(J){let e=-1;te(()=>[i.selected.value,_.value,F.value,c.value],()=>{cancelAnimationFrame(e),e=requestAnimationFrame(()=>{if(_.value&&F.value){const t=c.value?"width":"height";S.value=_.value[t],z.value=F.value[t],h.value=S.value+1<z.value}if(ne.value>=0&&v.el){const t=v.el.children[ae.value];N(t,l.centerActive)}})})}const V=w(!1);function N(e,t){let u=0;t?u=Me({containerElement:r.el,isHorizontal:c.value,selectedElement:e}):u=We({containerElement:r.el,isHorizontal:c.value,isRtl:o.value,selectedElement:e}),$(u)}function $(e){if(!J||!r.el)return;const t=G(c.value,r.el),u=le(c.value,o.value,r.el);if(!(Z(c.value,r.el)<=t||Math.abs(e-u)<16)){if(c.value&&o.value&&r.el){const{scrollWidth:R,offsetWidth:W}=r.el;e=R-W-e}c.value?H.horizontal(e,B.value):H(e,B.value)}}function ie(e){const{scrollTop:t,scrollLeft:u}=e.target;a.value=c.value?u:t}function re(e){if(V.value=!0,!(!h.value||!v.el)){for(const t of e.composedPath())for(const u of v.el.children)if(u===t){N(u);return}}}function ue(e){V.value=!1}let T=!1;function ce(e){var t;!T&&!V.value&&!(e.relatedTarget&&((t=v.el)!=null&&t.contains(e.relatedTarget)))&&b(),T=!1}function L(){T=!0}function fe(e){if(!v.el)return;function t(u){e.preventDefault(),b(u)}c.value?e.key==="ArrowRight"?t(o.value?"prev":"next"):e.key==="ArrowLeft"&&t(o.value?"next":"prev"):e.key==="ArrowDown"?t("next"):e.key==="ArrowUp"&&t("prev"),e.key==="Home"?t("first"):e.key==="End"&&t("last")}function b(e){var u,k;if(!v.el)return;let t;if(!e)t=we(v.el)[0];else if(e==="next"){if(t=(u=v.el.querySelector(":focus"))==null?void 0:u.nextElementSibling,!t)return b("first")}else if(e==="prev"){if(t=(k=v.el.querySelector(":focus"))==null?void 0:k.previousElementSibling,!t)return b("last")}else e==="first"?t=v.el.firstElementChild:e==="last"&&(t=v.el.lastElementChild);t&&t.focus({preventScroll:!0})}function P(e){const t=c.value&&o.value?-1:1,u=(e==="prev"?-t:t)*S.value;let k=a.value+u;if(c.value&&o.value&&r.el){const{scrollWidth:R,offsetWidth:W}=r.el;k+=R-W}$(k)}const A=y(()=>({next:i.next,prev:i.prev,select:i.select,isSelected:i.isSelected})),O=y(()=>{switch(l.showArrows){case"always":return!0;case"desktop":return!p.value;case!0:return h.value||Math.abs(a.value)>0;case"mobile":return p.value||h.value||Math.abs(a.value)>0;default:return!p.value&&(h.value||Math.abs(a.value)>0)}}),D=y(()=>Math.abs(a.value)>1),j=y(()=>{if(!r.value)return!1;const e=Z(c.value,r.el),t=He(c.value,r.el);return e-t-Math.abs(a.value)>1});return be(()=>f(l.tag,{class:["v-slide-group",{"v-slide-group--vertical":!c.value,"v-slide-group--has-affixes":O.value,"v-slide-group--is-overflowing":h.value},d.value,l.class],style:l.style,tabindex:V.value||i.selected.value.length?-1:0,onFocus:ce},{default:()=>{var e,t,u;return[O.value&&f("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!D.value}],onMousedown:L,onClick:()=>D.value&&P("prev")},[((e=s.prev)==null?void 0:e.call(s,A.value))??f(Y,null,{default:()=>[f(q,{icon:o.value?l.nextIcon:l.prevIcon},null)]})]),f("div",{key:"container",ref:r,class:"v-slide-group__container",onScroll:ie},[f("div",{ref:v,class:"v-slide-group__content",onFocusin:re,onFocusout:ue,onKeydown:fe},[(t=s.default)==null?void 0:t.call(s,A.value)])]),O.value&&f("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!j.value}],onMousedown:L,onClick:()=>j.value&&P("next")},[((u=s.next)==null?void 0:u.call(s,A.value))??f(Y,null,{default:()=>[f(q,{icon:o.value?l.prevIcon:l.nextIcon},null)]})])]}})),{selected:i.selected,scrollTo:P,scrollOffset:a,focus:b}}}),$e=ee()({name:"VSlideGroupItem",props:Ae(),emits:{"group:selected":l=>!0},setup(l,n){let{slots:s}=n;const o=Oe(l,se);return()=>{var d;return(d=s.default)==null?void 0:d.call(s,{isSelected:o.isSelected.value,select:o.select,toggle:o.toggle,selectedClass:o.selectedClass.value})}}}),Ke=Ce({__name:"[id]",setup(l){const n=Ge(),s=Ve(),o=he(),d=y(()=>{var a;return(a=o.gif)==null?void 0:a.images.original}),p=()=>{const a=s.params.id;a&&o.fetchGif(a),o.fetchRandomGifs()};p(),te(()=>s.params,()=>{p()});const i=a=>{n.push(`/users/${a}`)},h=a=>{n.push(`/gifs/${a}`)};return(a,S)=>{const z=ve,c=pe;return x(),C(de,null,{default:g(()=>[m(o).gif?(x(),C(E,{key:0,justify:"center"},{default:g(()=>[f(M,{col:"12",md:"6"},{default:g(()=>[f(E,{class:"text-center",justify:"center"},{default:g(()=>{var r,_;return[f(ge,{height:(r=m(d))==null?void 0:r.height,width:(_=m(d))==null?void 0:_.width},{image:g(()=>[f(z,{full:!0,gif:m(o).gif,height:"auto",width:"100%"},null,8,["gif"])]),_:1},8,["height","width"]),I("div",null,[I("h1",null,Q(m(o).gif.title),1),I("h3",null,[Re("Author: "),I("a",{href:"#",onClick:S[0]||(S[0]=v=>i(m(o).gif.username))},Q(m(o).gif.username),1)])])]}),_:1})]),_:1})]),_:1})):X("",!0),m(o).randomGifs?(x(),C(E,{key:1,justify:"center"},{default:g(()=>[f(M,{col:"12",md:"6"},{default:g(()=>[f(Ne,null,{default:g(()=>[(x(!0),Ie(Fe,null,Ee(m(o).randomGifs,r=>(x(),C($e,null,{default:g(()=>[f(z,{class:"ma-4 cursor-pointer",full:!1,gif:r,height:"100px",width:"200px",onClick:_=>h(r.id)},null,8,["gif","onClick"])]),_:2},1024))),256))]),_:1})]),_:1})]),_:1})):m(o).notFound?(x(),C(E,{key:2,justify:"center"},{default:g(()=>[f(M,{cols:"12",md:"6"},{default:g(()=>[f(c)]),_:1})]),_:1})):X("",!0)]),_:1})}}});export{Ke as default};
