import{a as Se,b as ke,k as q,V as K,e as _e,f as xe,g as Q,h as ze,_ as be}from"./0ZUEefuv_index.js";import{p as we,U as J,m as Ce,ai as Ge,k as Re,n as ie,H as Ve,aj as Fe,A as b,h as k,D as X,ak as Ie,K as Y,C as re,v as Ee,a as u,al as Te,d as Ae,a1 as Pe,am as Oe,o as g,c as _,w as m,u as y,a2 as w,e as M,an as Z,_ as We,ao as Me,ap as ee,a3 as te,F as le}from"./BSTPl1k5_index.js";import{u as He,b as oe}from"./b-iXFh27_route-block.js";import{V as F,b as H,a as Le}from"./C9GQsRag_VRow.js";import"./CPa9649O_color.js";function $e(o){let{selectedElement:n,containerElement:s,isRtl:l,isHorizontal:f}=o;const h=C(f,s),i=ue(f,l,s),c=C(f,n),d=ce(f,n),S=c*.4;return i>d?d-S:i+h<d+c?d-h+c+S:i}function Be(o){let{selectedElement:n,containerElement:s,isHorizontal:l}=o;const f=C(l,s),h=ce(l,n),i=C(l,n);return h-f/2+i/2}function se(o,n){const s=o?"scrollWidth":"scrollHeight";return(n==null?void 0:n[s])||0}function Ne(o,n){const s=o?"clientWidth":"clientHeight";return(n==null?void 0:n[s])||0}function ue(o,n,s){if(!s)return 0;const{scrollLeft:l,offsetWidth:f,scrollWidth:h}=s;return o?n?h-f+l:l:s.scrollTop}function C(o,n){const s=o?"offsetWidth":"offsetHeight";return(n==null?void 0:n[s])||0}function ce(o,n){const s=o?"offsetLeft":"offsetTop";return(n==null?void 0:n[s])||0}const fe=Symbol.for("vuetify:v-slide-group"),De=we({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:fe},nextIcon:{type:J,default:"$next"},prevIcon:{type:J,default:"$prev"},showArrows:{type:[Boolean,String],validator:o=>typeof o=="boolean"||["always","desktop","mobile"].includes(o)},...Ce(),...Ge({mobile:null}),...Re(),...Se({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),ne=ie()({name:"VSlideGroup",props:De(),emits:{"update:modelValue":o=>!0},setup(o,n){let{slots:s}=n;const{isRtl:l}=Ve(),{displayClasses:f,mobile:h}=Fe(o),i=ke(o,o.symbol),c=b(!1),d=b(0),S=b(0),G=b(0),a=k(()=>o.direction==="horizontal"),{resizeRef:v,contentRect:I}=X(),{resizeRef:p,contentRect:E}=X(),L=Ie(),$=k(()=>({container:v.el,duration:200,easing:"easeOutQuart"})),de=k(()=>i.selected.value.length?i.items.value.findIndex(e=>e.id===i.selected.value[0]):-1),ve=k(()=>i.selected.value.length?i.items.value.findIndex(e=>e.id===i.selected.value[i.selected.value.length-1]):-1);if(Y){let e=-1;re(()=>[i.selected.value,I.value,E.value,a.value],()=>{cancelAnimationFrame(e),e=requestAnimationFrame(()=>{if(I.value&&E.value){const t=a.value?"width":"height";S.value=I.value[t],G.value=E.value[t],c.value=S.value+1<G.value}if(de.value>=0&&p.el){const t=p.el.children[ve.value];B(t,o.centerActive)}})})}const R=b(!1);function B(e,t){let r=0;t?r=Be({containerElement:v.el,isHorizontal:a.value,selectedElement:e}):r=$e({containerElement:v.el,isHorizontal:a.value,isRtl:l.value,selectedElement:e}),N(r)}function N(e){if(!Y||!v.el)return;const t=C(a.value,v.el),r=ue(a.value,l.value,v.el);if(!(se(a.value,v.el)<=t||Math.abs(e-r)<16)){if(a.value&&l.value&&v.el){const{scrollWidth:V,offsetWidth:W}=v.el;e=V-W-e}a.value?L.horizontal(e,$.value):L(e,$.value)}}function pe(e){const{scrollTop:t,scrollLeft:r}=e.target;d.value=a.value?r:t}function he(e){if(R.value=!0,!(!c.value||!p.el)){for(const t of e.composedPath())for(const r of p.el.children)if(r===t){B(r);return}}}function ge(e){R.value=!1}let T=!1;function me(e){var t;!T&&!R.value&&!(e.relatedTarget&&((t=p.el)!=null&&t.contains(e.relatedTarget)))&&z(),T=!1}function D(){T=!0}function ye(e){if(!p.el)return;function t(r){e.preventDefault(),z(r)}a.value?e.key==="ArrowRight"?t(l.value?"prev":"next"):e.key==="ArrowLeft"&&t(l.value?"next":"prev"):e.key==="ArrowDown"?t("next"):e.key==="ArrowUp"&&t("prev"),e.key==="Home"?t("first"):e.key==="End"&&t("last")}function z(e){var r,x;if(!p.el)return;let t;if(!e)t=Te(p.el)[0];else if(e==="next"){if(t=(r=p.el.querySelector(":focus"))==null?void 0:r.nextElementSibling,!t)return z("first")}else if(e==="prev"){if(t=(x=p.el.querySelector(":focus"))==null?void 0:x.previousElementSibling,!t)return z("last")}else e==="first"?t=p.el.firstElementChild:e==="last"&&(t=p.el.lastElementChild);t&&t.focus({preventScroll:!0})}function A(e){const t=a.value&&l.value?-1:1,r=(e==="prev"?-t:t)*S.value;let x=d.value+r;if(a.value&&l.value&&v.el){const{scrollWidth:V,offsetWidth:W}=v.el;x+=V-W}N(x)}const P=k(()=>({next:i.next,prev:i.prev,select:i.select,isSelected:i.isSelected})),O=k(()=>{switch(o.showArrows){case"always":return!0;case"desktop":return!h.value;case!0:return c.value||Math.abs(d.value)>0;case"mobile":return h.value||c.value||Math.abs(d.value)>0;default:return!h.value&&(c.value||Math.abs(d.value)>0)}}),j=k(()=>Math.abs(d.value)>1),U=k(()=>{if(!v.value)return!1;const e=se(a.value,v.el),t=Ne(a.value,v.el);return e-t-Math.abs(d.value)>1});return Ee(()=>u(o.tag,{class:["v-slide-group",{"v-slide-group--vertical":!a.value,"v-slide-group--has-affixes":O.value,"v-slide-group--is-overflowing":c.value},f.value,o.class],style:o.style,tabindex:R.value||i.selected.value.length?-1:0,onFocus:me},{default:()=>{var e,t,r;return[O.value&&u("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!j.value}],onMousedown:D,onClick:()=>j.value&&A("prev")},[((e=s.prev)==null?void 0:e.call(s,P.value))??u(q,null,{default:()=>[u(K,{icon:l.value?o.nextIcon:o.prevIcon},null)]})]),u("div",{key:"container",ref:v,class:"v-slide-group__container",onScroll:pe},[u("div",{ref:p,class:"v-slide-group__content",onFocusin:he,onFocusout:ge,onKeydown:ye},[(t=s.default)==null?void 0:t.call(s,P.value)])]),O.value&&u("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!U.value}],onMousedown:D,onClick:()=>U.value&&A("next")},[((r=s.next)==null?void 0:r.call(s,P.value))??u(q,null,{default:()=>[u(K,{icon:l.value?o.prevIcon:o.nextIcon},null)]})])]}})),{selected:i.selected,scrollTo:A,scrollOffset:d,focus:z}}}),ae=ie()({name:"VSlideGroupItem",props:_e(),emits:{"group:selected":o=>!0},setup(o,n){let{slots:s}=n;const l=xe(o,fe);return()=>{var f;return(f=s.default)==null?void 0:f.call(s,{isSelected:l.isSelected.value,select:l.select,toggle:l.toggle,selectedClass:l.selectedClass.value})}}}),je={key:1},Ue={key:1},qe=Ae({__name:"[id]",setup(o){const n=Pe(),s=Oe(),l=He(),f=()=>{const c=s.params.id;c&&l.fetchGif(c),l.fetchRandomGifs()};f(),re(()=>s.params,()=>{f()});const h=c=>{n.push(`/users/${c}`)},i=c=>{n.push(`/gifs/${c}`)};return(c,d)=>{const S=ze,G=be;return g(),_(Le,null,{default:m(()=>[y(l).notFound?(g(),_(F,{key:1,justify:"center"},{default:m(()=>[u(H,{cols:"12",md:"6"},{default:m(()=>[u(G)]),_:1})]),_:1})):(g(),_(F,{key:0,justify:"center"},{default:m(()=>[u(H,{col:"12",md:"6"},{default:m(()=>[u(F,{class:"text-center",justify:"center"},{default:m(()=>[y(l).gifLoading?(g(),_(Q,{key:0,height:"300px",type:"image",width:"100%"})):y(l).gif?(g(),w("div",je,[u(S,{full:!0,gif:y(l).gif,height:"auto",width:"100%"},null,8,["gif"]),M("div",null,[M("h1",null,Z(y(l).gif.title),1),M("h3",null,[We("Author: "),y(l).gif.username?(g(),w("a",{key:0,href:"#",onClick:d[0]||(d[0]=Me(a=>h(y(l).gif.username),["prevent"]))},Z(y(l).gif.username),1)):(g(),w("span",Ue,"Unknown"))])])])):ee("",!0)]),_:1})]),_:1})]),_:1})),u(F,{justify:"center"},{default:m(()=>[u(H,{col:"12",md:"6"},{default:m(()=>[y(l).randomGifsLoading?(g(),_(ne,{key:0},{default:m(()=>[(g(),w(le,null,te(4,a=>u(ae,{key:a},{default:m(()=>[u(Q,{class:"ma-4",height:"100px",type:"image",width:"200px"})]),_:2},1024)),64))]),_:1})):y(l).randomGifs?(g(),_(ne,{key:1},{default:m(()=>[(g(!0),w(le,null,te(y(l).randomGifs,a=>(g(),_(ae,{key:a.id},{default:m(()=>[u(S,{class:"ma-4 cursor-pointer",full:!1,gif:a,height:"100px",width:"200px",onClick:v=>i(a.id)},null,8,["gif","onClick"])]),_:2},1024))),128))]),_:1})):ee("",!0)]),_:1})]),_:1})]),_:1})}}});typeof oe=="function"&&oe(qe);export{qe as default};
